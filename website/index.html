<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evo - Your AI Companion</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .gradient-bg {
            background: linear-gradient(-45deg, #1a202c, #2d3748, #4a5568, #2d3748);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
        }
        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .page-view { display: none; }
        .feature-item { display: flex; align-items: flex-start; gap: 0.75rem; }
        .feature-icon { flex-shrink: 0; margin-top: 5px; }
        .main-content { transition: margin-right 0.3s ease-in-out; }
        .legal-content h2 { font-size: 1.5rem; font-weight: 700; margin-top: 1.5rem; margin-bottom: 0.5rem; }
        .legal-content p { margin-bottom: 1rem; color: #d1d5db; }
        .legal-content ul { list-style-type: disc; margin-left: 1.5rem; margin-bottom: 1rem; color: #d1d5db; }
    </style>
</head>
<body class="gradient-bg text-white antialiased overflow-x-hidden">

    <div class="relative min-h-screen flex flex-col">
        <!-- Main Content Area -->
        <main id="main-content" class="flex-grow w-full flex flex-col items-center justify-center p-4">
            <!-- LANDING PAGE -->
            <div id="landing-page" class="page-view w-full max-w-5xl mx-auto">
                <h1 class="text-6xl font-black text-center mb-12 bg-gradient-to-r from-indigo-400 to-purple-500 bg-clip-text text-transparent">Evo</h1>
                <div class="bg-gray-800 bg-opacity-50 backdrop-blur-sm rounded-2xl shadow-2xl p-8 md:p-12 grid md:grid-cols-2 gap-12 items-center">
                    <div class="space-y-6">
                        <h2 class="text-4xl font-bold tracking-tighter text-white">Evolve Your Community</h2>
                        <p class="text-lg text-gray-300">An AI companion that learns, remembers, and grows with your server. Invite Evo to bring a new level of interactive fun to your members.</p>
                        <a id="login-btn" href="#" class="inline-block bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 px-8 rounded-full shadow-lg transition-transform transform hover:scale-105">Sign In & Set Up</a>
                    </div>
                    <div class="bg-gray-900/70 rounded-xl p-6 border border-gray-700 space-y-4">
                        <h3 class="text-xl font-bold text-indigo-300 mb-4">Evo Features:</h3>
                        <div class="feature-item">
                            <svg class="w-5 h-5 text-green-400 feature-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a2 2 0 01-2-2V4a2 2 0 012-2h8z"></path></svg>
                            <div><h4 class="font-semibold">Human-like Replies</h4><p class="text-sm text-gray-400">Responds to her name, @mentions, or replies.</p></div>
                        </div>
                        <div class="feature-item">
                            <svg class="w-5 h-5 text-green-400 feature-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                            <div><h4 class="font-semibold">Persistent Memory</h4><p class="text-sm text-gray-400">Remembers your conversations and key facts about users.</p></div>
                        </div>
                        <div class="feature-item">
                            <svg class="w-5 h-5 text-yellow-400 feature-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.293 2.293a1 1 0 010 1.414L10 16l-4 4-4-4 5.293-5.293a1 1 0 011.414 0z"></path></svg>
                            <div><h4 class="font-semibold">Premium Customization</h4><p class="text-sm text-gray-400">Change her name, avatar, and core personality.</p></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SERVER DASHBOARD -->
            <div id="server-dashboard" class="page-view w-full max-w-4xl">
                <div class="flex justify-between items-center mb-8">
                    <h1 class="text-4xl font-bold">Your Servers</h1>
                    <a id="invite-bot-btn" href="#" target="_blank" class="bg-green-600 hover:bg-green-500 text-white font-bold py-2 px-4 rounded-lg shadow-lg">Invite Bot</a>
                </div>
                <div id="server-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6">
                    <div id="add-server-card" class="bg-gray-800 bg-opacity-50 backdrop-blur-sm rounded-2xl aspect-square flex items-center justify-center cursor-pointer border-2 border-dashed border-gray-600 hover:border-indigo-400 hover:bg-gray-700 transition-all">
                        <div class="text-center">
                            <svg class="w-16 h-16 text-gray-500 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
                            <p class="mt-2 font-semibold text-gray-400">Add Server</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SERVER SETTINGS -->
            <div id="server-settings-container" class="page-view w-full max-w-2xl">
                 <button id="back-to-dashboard-btn" class="mb-6 text-indigo-400 hover:text-indigo-300 font-semibold">&larr; Back to Dashboard</button>
                 <div id="server-settings-content"></div>
            </div>

            <!-- PLACEHOLDER PAGES -->
            <div id="premium-page" class="page-view"><h1>Premium Page - Under Maintenance</h1></div>
            <div id="faq-page" class="page-view"><h1>FAQ Page - Under Maintenance</h1></div>
            <div id="changelog-page" class="page-view"><h1>Changelog Page - Under Maintenance</h1></div>

            <!-- LEGAL PAGES -->
            <div id="terms-page" class="page-view w-full max-w-3xl">
                <button class="go-back-btn mb-6 text-indigo-400 hover:text-indigo-300 font-semibold">&larr; Go Back</button>
                <div class="bg-gray-800 bg-opacity-50 backdrop-blur-sm rounded-2xl p-8 shadow-2xl legal-content">
                    <h1 class="text-3xl font-bold mb-4">Terms of Service</h1>
                    <p><strong>Last Updated: August 10, 2025</strong></p>
                    <p>Welcome to Evo! These terms and conditions outline the rules and regulations for the use of Evo's services...</p>
                </div>
            </div>
            <div id="privacy-page" class="page-view w-full max-w-3xl">
                <button class="go-back-btn mb-6 text-indigo-400 hover:text-indigo-300 font-semibold">&larr; Go Back</button>
                <div class="bg-gray-800 bg-opacity-50 backdrop-blur-sm rounded-2xl p-8 shadow-2xl legal-content">
                    <h1 class="text-3xl font-bold mb-4">Privacy Policy</h1>
                    <p><strong>Last Updated: August 10, 2025</strong></p>
                    <p>Your privacy is important to us. It is Evo's policy to respect your privacy regarding any information we may collect from you...</p>
                </div>
            </div>
        </main>
        
        <footer id="footer" class="w-full text-center p-4 text-gray-500 mt-auto">
            <div class="space-x-4">
                <button id="terms-link" class="hover:text-gray-300">Terms of Service</button>
                <span>&bull;</span>
                <button id="privacy-link" class="hover:text-gray-300">Privacy Policy</button>
            </div>
        </footer>

        <!-- Right Side Panel -->
        <div id="side-panel" class="hidden fixed top-0 right-0 h-full w-64 bg-gray-900/80 backdrop-blur-md border-l border-gray-700 p-6 space-y-6 z-40">
            <div id="user-info" class="text-center"></div>
            <nav class="flex flex-col space-y-2">
                <button data-page="server-dashboard" class="side-nav-link text-left w-full hover:bg-gray-700 p-2 rounded">Dashboard</button>
                <button data-page="premium-page" class="side-nav-link text-left w-full hover:bg-gray-700 p-2 rounded">Premium</button>
                <button data-page="faq-page" class="side-nav-link text-left w-full hover:bg-gray-700 p-2 rounded">FAQ</button>
                <button data-page="changelog-page" class="side-nav-link text-left w-full hover:bg-gray-700 p-2 rounded">Changelog</button>
            </nav>
            <button id="logout-btn" class="w-full bg-red-800 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg">Logout</button>
        </div>
        
        <button id="menu-toggle-btn" class="hidden fixed top-4 right-4 z-50 text-white">
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
        </button>
    </div>

    <!-- MODALS -->
    <div id="add-server-modal" style="display: none;" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50">
        <div class="bg-gray-800 rounded-2xl w-full max-w-md shadow-2xl"><div class="p-6 border-b border-gray-700 flex justify-between items-center"><h2 class="text-2xl font-bold">Select a Server</h2><button id="close-modal-btn" class="text-gray-400 hover:text-white text-3xl leading-none">&times;</button></div><div id="modal-server-list" class="p-2 max-h-96 overflow-y-auto"></div></div>
    </div>
    <div id="remove-confirm-modal" style="display: none;" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50">
        <div class="bg-gray-800 rounded-2xl w-full max-w-md shadow-2xl p-8 text-center"><h2 class="text-2xl font-bold mb-4">Are you sure?</h2><p class="text-gray-300 mb-6">All settings for this server will be permanently lost. Evo's memories of users from this server will be permanently wiped. This action cannot be undone.</p><div class="flex justify-center gap-4"><button id="cancel-remove-btn" class="w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 px-6 rounded-lg">Cancel</button><button id="confirm-remove-btn" class="w-full bg-red-600 hover:bg-red-500 text-white font-bold py-3 px-6 rounded-lg">Confirm & Remove</button></div></div>
    </div>

    <script>
        const API_BASE_URL = 'https://evo-app-aiop.onrender.com';
        const BOT_CLIENT_ID = '1399503221650656'; 
        const BOT_PERMISSIONS = '379968';

        let currentServer = null;
        let isUserLoggedIn = false;
        let botInfo = {};

        const mainContent = document.getElementById('main-content');
        const sidePanel = document.getElementById('side-panel');
        const menuToggleBtn = document.getElementById('menu-toggle-btn');
        const inviteBotBtn = document.getElementById('invite-bot-btn');
        const loginBtn = document.getElementById('login-btn');
        const logoutBtn = document.getElementById('logout-btn');
        const footer = document.getElementById('footer');
        const termsLink = document.getElementById('terms-link');
        const privacyLink = document.getElementById('privacy-link');
        const serverGrid = document.getElementById('server-grid');
        const addServerCard = document.getElementById('add-server-card');
        const addServerModal = document.getElementById('add-server-modal');
        const closeModalBtn = document.getElementById('close-modal-btn');
        const modalServerList = document.getElementById('modal-server-list');
        const removeConfirmModal = document.getElementById('remove-confirm-modal');
        const cancelRemoveBtn = document.getElementById('cancel-remove-btn');
        const confirmRemoveBtn = document.getElementById('confirm-remove-btn');

        function showPage(pageId) {
            document.querySelectorAll('#main-content > .page-view').forEach(p => p.style.display = 'none');
            const page = document.getElementById(pageId);
            if (page) page.style.display = 'block';
        }

        function setupUIForLogin(loggedIn) {
            isUserLoggedIn = loggedIn;
            if (loggedIn) {
                sidePanel.classList.remove('hidden');
                menuToggleBtn.classList.remove('hidden');
                mainContent.classList.add('md:mr-64');
                footer.classList.add('md:mr-64');
                showPage('server-dashboard');
            } else {
                sidePanel.classList.add('hidden');
                menuToggleBtn.classList.add('hidden');
                mainContent.classList.remove('md:mr-64');
                footer.classList.remove('md:mr-64');
                showPage('landing-page');
            }
        }

        const fetchOptions = { credentials: 'include' };

        async function fetchBotInfo() {
            try {
                const response = await fetch(`${API_BASE_URL}/api/bot-info`);
                if(response.ok) botInfo = await response.json();
            } catch (e) { console.error("Could not fetch bot info", e); }
        }

        async function updateUserInfo() {
            try {
                const response = await fetch(`${API_BASE_URL}/api/me`, fetchOptions);
                if (response.ok) {
                    const user = await response.json();
                    document.getElementById('user-info').innerHTML = `<p class="font-bold text-white">${user.username}</p><p class="text-xs text-gray-400">#${user.discriminator}</p>`;
                    isUserLoggedIn = true;
                } else {
                    isUserLoggedIn = false;
                }
            } catch (e) { isUserLoggedIn = false; }
        }

        async function loadAndRenderServerDashboard() {
            try {
                const response = await fetch(`${API_BASE_URL}/api/user-servers`, fetchOptions);
                if (!response.ok) throw new Error('Failed to fetch servers');
                const userServers = await response.json();
                
                serverGrid.innerHTML = '';
                userServers.forEach(server => {
                    const card = document.createElement('div');
                    card.className = 'bg-gray-800 bg-opacity-50 backdrop-blur-sm rounded-2xl aspect-square flex items-center justify-center cursor-pointer hover:ring-2 hover:ring-indigo-400 transition-all p-4';
                    card.innerHTML = `<div class="text-center"><img src="${server.icon}" alt="${server.name}" class="w-16 h-16 rounded-full mx-auto mb-2"><p class="font-semibold text-white truncate">${server.name}</p></div>`;
                    card.addEventListener('click', () => showSettingsForServer(server));
                    serverGrid.appendChild(card);
                });
                serverGrid.appendChild(addServerCard);
            } catch (error) { console.error('Failed to load user servers:', error); }
        }
        
        async function loadAndRenderModalServerList() {
            modalServerList.innerHTML = `<p class="p-4 text-center text-gray-400">Loading servers...</p>`;
            try {
                const availableServersRes = await fetch(`${API_BASE_URL}/api/available-servers`, fetchOptions);
                if (!availableServersRes.ok) throw new Error(`HTTP error!`);
                const availableServers = await availableServersRes.json();
                
                modalServerList.innerHTML = '';
                if (availableServers.length === 0) {
                    modalServerList.innerHTML = `<p class="p-4 text-center text-gray-400">No new servers to add.</p>`;
                    return;
                }
                availableServers.forEach(server => {
                    const item = document.createElement('div');
                    item.className = 'flex items-center p-3 hover:bg-gray-700 rounded-lg cursor-pointer';
                    item.innerHTML = `<img src="${server.icon}" alt="${server.name}" class="w-10 h-10 rounded-full mr-4"><span class="font-semibold">${server.name}</span>`;
                    item.addEventListener('click', () => { addServerModal.style.display = 'none'; showSettingsForServer(server); });
                    modalServerList.appendChild(item);
                });
            } catch (error) { console.error('Failed to load available servers:', error); }
        }

        async function showSettingsForServer(server) {
            currentServer = server;
            const settingsContainer = document.getElementById('server-settings-content');
            settingsContainer.innerHTML = `<div class="bg-gray-800 bg-opacity-50 backdrop-blur-sm rounded-2xl p-8 shadow-2xl">Loading...</div>`;
            showPage('server-settings-container');

            const [settingsRes, channelsRes] = await Promise.all([
                fetch(`${API_BASE_URL}/api/server-settings/${server.id}`, fetchOptions),
                fetch(`${API_BASE_URL}/api/server-channels/${server.id}`, fetchOptions)
            ]);

            const savedSettings = settingsRes.ok ? await settingsRes.json() : {};
            const channels = channelsRes.ok ? await channelsRes.json() : [];

            const channelOptions = channels.map(ch => `<option value="${ch.id}" ${savedSettings.designated_channel === ch.id ? 'selected' : ''}># ${ch.name}</option>`).join('');

            settingsContainer.innerHTML = `
                <div class="bg-gray-800 bg-opacity-50 backdrop-blur-sm rounded-2xl p-8 shadow-2xl space-y-6">
                    <div class="flex items-center mb-6"><img id="settings-server-icon" src="${server.icon}" alt="Server Icon" class="w-16 h-16 rounded-full mr-4"><h1 id="settings-server-name" class="text-3xl font-bold">${server.name}</h1></div>
                    <div><label for="ai-model" class="block text-sm font-medium text-gray-300 mb-1">AI Model Name</label><input type="text" id="ai-model" value="${savedSettings.ai_model || ''}" placeholder="gemini-pro" class="w-full bg-gray-900 border border-gray-700 rounded-md px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500"></div>
                    <div><label for="api-key" class="block text-sm font-medium text-gray-300 mb-1">API Key</label><div class="flex items-center space-x-2"><input type="password" id="api-key" placeholder="Enter new key to update" class="w-full bg-gray-900 border border-gray-700 rounded-md px-3 py-2 text-white"><span class="bg-gray-700 text-xs font-mono px-2 py-1 rounded">${savedSettings.api_key_last4 ? `...${savedSettings.api_key_last4}` : 'None'}</span></div></div>
                    <div><label for="backup-api-key" class="block text-sm font-medium text-gray-300 mb-1">Backup API Key</label><div class="flex items-center space-x-2"><input type="password" id="backup-api-key" placeholder="Enter new key to update" class="w-full bg-gray-900 border border-gray-700 rounded-md px-3 py-2 text-white"><span class="bg-gray-700 text-xs font-mono px-2 py-1 rounded">${savedSettings.backup_api_key_last4 ? `...${savedSettings.backup_api_key_last4}` : 'None'}</span></div></div>
                    <div><label for="designated-channel" class="block text-sm font-medium text-gray-300 mb-1">Designated Channel</label><select id="designated-channel" class="w-full bg-gray-900 border border-gray-700 rounded-md px-3 py-2 text-white"><option value="all">All Channels</option>${channelOptions}</select></div>
                    <div class="pt-6 border-t border-gray-700 space-y-6">
                        <div><label for="custom-name" class="block text-sm font-medium text-gray-300 mb-1">Custom Name</label><input type="text" id="custom-name" value="${savedSettings.custom_bot_name || ''}" placeholder="Evo" class="w-full bg-gray-900 border border-gray-700 rounded-md px-3 py-2 text-white"></div>
                        <div><label class="block text-sm font-medium text-gray-300 mb-1">Custom Avatar</label><div class="mt-2 flex items-center gap-x-3"><img id="avatar-preview" src="${savedSettings.custom_avatar_url || botInfo.avatar || 'https://cdn.discordapp.com/embed/avatars/0.png'}" class="h-16 w-16 rounded-full"><input type="file" id="avatar-upload-input" class="hidden" accept="image/*"><button id="upload-avatar-btn" type="button" class="rounded-md bg-white/10 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-white/20">Upload</button></div></div>
                        <div><label for="custom-personality" class="block text-sm font-medium text-gray-300 mb-1">Custom Personality</label><textarea id="custom-personality" rows="5" placeholder="A sharp-witted tomboy..." class="w-full bg-gray-900 border border-gray-700 rounded-md px-3 py-2 text-white">${savedSettings.custom_personality || ''}</textarea></div>
                    </div>
                    <div class="pt-6 border-t border-gray-700 flex flex-col sm:flex-row gap-4"><button id="save-settings-btn" class="w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 px-6 rounded-lg">Save Settings</button><button id="remove-server-btn" class="w-full bg-red-800 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-lg">Remove Server</button></div>
                </div>`;
            
            document.getElementById('save-settings-btn').addEventListener('click', () => saveSettingsForServer(server.id));
            document.getElementById('remove-server-btn').addEventListener('click', () => removeConfirmModal.style.display = 'flex');
            document.getElementById('upload-avatar-btn').addEventListener('click', () => document.getElementById('avatar-upload-input').click());
            document.getElementById('avatar-upload-input').addEventListener('change', (e) => uploadAvatar(e, server.id));
        }
        
        async function saveSettingsForServer(serverId) {
            const settings = {
                ai_model: document.getElementById('ai-model').value,
                api_key: document.getElementById('api-key').value,
                backup_api_key: document.getElementById('backup-api-key').value,
                designated_channel: document.getElementById('designated-channel').value,
                custom_name: document.getElementById('custom-name').value,
                custom_personality: document.getElementById('custom-personality').value
            };
            
            try {
                const response = await fetch(`${API_BASE_URL}/api/server-settings/${serverId}`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(settings), ...fetchOptions });
                if (!response.ok) throw new Error('Failed to save');
                alert('Settings saved!');
                showPage('server-dashboard');
            } catch (error) { alert('Could not save settings.'); }
        }
        
        async function uploadAvatar(event, serverId) {
            const file = event.target.files[0];
            if (!file) return;
            const formData = new FormData();
            formData.append('avatar', file);
            try {
                const response = await fetch(`${API_BASE_URL}/api/upload-avatar/${serverId}`, { method: 'POST', body: formData, ...fetchOptions });
                if (!response.ok) throw new Error('Upload failed');
                const result = await response.json();
                if (result.success) document.getElementById('avatar-preview').src = result.avatar_url;
                else alert(`Upload failed: ${result.error}`);
            } catch (error) { alert('Could not upload avatar.'); }
        }

        async function removeServer(serverId) {
            try {
                const response = await fetch(`${API_BASE_URL}/api/remove-server/${serverId}`, { method: 'DELETE', ...fetchOptions });
                if (!response.ok) throw new Error('Failed to remove');
                removeConfirmModal.style.display = 'none';
                await loadAndRenderServerDashboard();
                showPage('server-dashboard');
            } catch (error) { alert('Could not remove server.'); }
        }

        loginBtn.href = `${API_BASE_URL}/login`;
        logoutBtn.addEventListener('click', async () => { await fetch(`${API_BASE_URL}/logout`, fetchOptions); setupUIForLogin(false); });
        menuToggleBtn.addEventListener('click', () => sidePanel.classList.toggle('hidden'));
        document.querySelectorAll('.side-nav-link').forEach(link => link.addEventListener('click', (e) => { showPage(e.currentTarget.dataset.page); if (window.innerWidth < 768) sidePanel.classList.add('hidden'); }));
        document.getElementById('back-to-dashboard-btn').addEventListener('click', () => showPage('server-dashboard'));
        document.querySelectorAll('.go-back-btn').forEach(btn => btn.addEventListener('click', () => { if(isUserLoggedIn) showPage('server-dashboard'); else showPage('landing-page'); }));
        termsLink.addEventListener('click', () => showPage('terms-page'));
        privacyLink.addEventListener('click', () => showPage('privacy-page'));
        inviteBotBtn.href = `https://discord.com/api/oauth2/authorize?client_id=${BOT_CLIENT_ID}&permissions=${BOT_PERMISSIONS}&scope=bot%20applications.commands`;
        addServerCard.addEventListener('click', () => { loadAndRenderModalServerList(); addServerModal.style.display = 'flex'; });
        closeModalBtn.addEventListener('click', () => addServerModal.style.display = 'none');
        cancelRemoveBtn.addEventListener('click', () => removeConfirmModal.style.display = 'none');
        confirmRemoveBtn.addEventListener('click', () => removeServer(currentServer.id));

        document.addEventListener('DOMContentLoaded', async () => {
            await fetchBotInfo();
            await updateUserInfo();
            setupUIForLogin(isUserLoggedIn);
            if(isUserLoggedIn) {
                loadAndRenderServerDashboard();
            }
        });
    </script>
</body>
</html>
